(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{8514:function(e,n,t){"use strict";var i=t(53566),a=t(28598);n.Z=(0,i.Z)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},34137:function(e,n,t){"use strict";var i=t(53566),a=t(28598);n.Z=(0,i.Z)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},86415:function(e){function n(){return new DOMException("The request is not allowed","NotAllowedError")}e.exports=async function(e){try{await async function(e){if(!navigator.clipboard)throw n();return navigator.clipboard.writeText(e)}(e)}catch(t){try{await async function(e){const t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);const i=window.getSelection(),a=window.document.createRange();i.removeAllRanges(),a.selectNode(t),i.addRange(a);let r=!1;try{r=window.document.execCommand("copy")}finally{i.removeAllRanges(),window.document.body.removeChild(t)}if(!r)throw n()}(e)}catch(i){throw i||t||n()}}}},56896:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(57124)}])},57124:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return q}});var i=t(28598),a=t(82684),r=t(42658),o=t(82015),s=t(97648),l=t(82561),c=t(27558),u=t(15532),d=t(93720),m=t(73073),h=t(41826),f=t(55512),x=t(96627),p=t(70136),v=t(33177),j=t(80464),y=t(40076),Z=t(18567),g=t(35127),C=t(68438),b=t(84446),k=t(66963),w=t(53566),I=(0,w.Z)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),S=(0,w.Z)((0,i.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopyOutlined"),F=t(8514),O=(0,w.Z)((0,i.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout"),N=t(86415),L=t.n(N),V=t(84166),E=t(51537),M=t(10673),P=t(54219),A=t(63422),_=t(55402),T=function(e){var n=(0,a.useContext)(m.Il).setSnackbarData,t=(0,a.useContext)(h.f),r=(0,a.useContext)(m.St),o=r.profile,s=r.family,l=r.getFamily,c=e.isOpen,u=e.setIsOpen,f=(0,a.useState)(void 0),p=f[0],v=f[1],j=(0,a.useState)(null),C=j[0],k=j[1];return(0,i.jsxs)(y.Z,{open:c,onClose:function(){return u(!1)},fullWidth:!0,children:[(0,i.jsx)(Z.Z,{children:"Add Pet"}),(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(E.Z,{autoFocus:!0,variant:"standard",label:"Name",value:p,onChange:function(e){return v(e.target.value)},required:!0}),(0,i.jsx)(M.Z,{sx:{mt:3},children:"Upload Photo"}),(0,i.jsx)(P.DropzoneArea,{acceptedFiles:["image/jpeg","image/png"],filesLimit:1,onChange:function(e){return k(e[0])},fileObjects:[]})]}),(0,i.jsxs)(b.Z,{children:[(0,i.jsx)(d.Z,{onClick:function(){return u(!1)},children:"Cancel"}),(0,i.jsx)(d.Z,{variant:"contained",onClick:function(){if(o&&s&&p){var e=s.pets?(0,x.Z)(s.pets):[];if(C){var i=(0,A.cF)(),a=(0,A.iH)(i,(0,_.Z)());(0,A.KV)(a,C).then((function(i){(0,A.Jt)(i.ref).then((function(i){e.push({name:p,imgLink:i}),t.updateFamily(o.familyId,{pets:e}).then((function(){l(),u(!1),n({msg:"Successfully added pet!",severity:"success"})}))}))}))}else e.push({name:p}),t.updateFamily(o.familyId,{pets:e}).then((function(){l(),u(!1),n({msg:"Successfully added pet!",severity:"success"})}))}},children:"Add"})]})]})},W=function(e){var n,t=e.mergeProfileProperty,r=(0,a.useContext)(m.Il).setSnackbarData,c=(0,a.useContext)(h.f),u=(0,a.useContext)(m.St),f=u.userId,w=u.profile,N=u.family,E=u.getFamily,M=(0,a.useState)([]),P=M[0],_=M[1],W=(0,a.useState)(!1),z=W[0],D=W[1],R=(0,a.useState)(!1),U=R[0],H=R[1],q=(0,a.useState)(!1),$=q[0],K=q[1],J=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(w&&N){var a={lat:null!==t&&void 0!==t?t:null===(e=N.location)||void 0===e?void 0:e.lat,long:null!==i&&void 0!==i?i:null===(n=N.location)||void 0===n?void 0:n.long};c.updateFamily(w.familyId,{location:a}).then(E)}};return(0,a.useEffect)((function(){N&&function(){if(null===N||void 0===N?void 0:N.members){var e=[];N.members.forEach((function(n){n!==f&&c.getProfile(n).then((function(n){if(n.exists()){var t=n.data();e.push(t),_(e)}}))}))}}()}),[N]),N?(0,i.jsxs)(o.Z,{sx:{p:3},children:[(0,i.jsx)(s.Z,{variant:"h3",children:"My Family"}),(0,i.jsxs)(p.Z,{mt:1,mb:4,children:[(0,i.jsx)(s.Z,{variant:"h5",children:"Family Name"}),f===N.headOfFamily?(0,i.jsx)(k.Z,{textVariant:"h6",text:N.name,fieldName:"Family Name",fieldType:"EntityName",onSubmitValue:function(e){w&&e&&c.updateFamily(w.familyId,{name:e}).then(E)}}):(0,i.jsx)(s.Z,{variant:"h6",children:N.name})]}),(0,i.jsxs)(p.Z,{mb:4,children:[(0,i.jsx)(s.Z,{variant:"h5",children:"Members"}),(0,i.jsx)(l.Z,{direction:"row",mb:3,flexWrap:"wrap",spacing:1,children:P&&P.map((function(e,n){return(0,i.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(s.Z,{variant:"h6",children:e.firstName}),(0,i.jsx)(v.Z,{src:e.imgLink,alt:"family member",sx:{width:128,height:128},children:!e.imgLink&&e.firstName[0].toUpperCase()}),f===N.headOfFamily&&(0,i.jsx)(d.Z,{variant:"outlined",startIcon:(0,i.jsx)(I,{}),sx:{mt:2},size:"small",onClick:function(){return function(e,n){if(w&&N&&window.confirm("Are you sure you want to remove ".concat(e," from the family?"))){var t=(0,x.Z)(N.members);t.splice(n,1),c.updateFamily(w.familyId,{members:t}).then(E)}}(e.firstName,n)},children:"Remove"})]},e.firstName)}))}),f===N.headOfFamily&&(0,i.jsx)(p.Z,{width:"100%",mx:"auto",children:(0,i.jsx)(d.Z,{variant:"contained",startIcon:(0,i.jsx)(S,{}),onClick:function(){w&&L()("https://our-home-239c1.firebaseapp.com/joinFamily/".concat(w.familyId)).then((function(){r({msg:"Copied invite link",severity:"info"})}))},children:"Copy family invite link"})})]}),(0,i.jsxs)(p.Z,{children:[(0,i.jsx)(s.Z,{variant:"h5",children:"Pets"}),(0,i.jsx)(l.Z,{direction:"row",mb:3,flexWrap:"wrap",spacing:1,children:N.pets&&N.pets.map((function(e,n){return(0,i.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(s.Z,{variant:"body1",children:e.name}),(0,i.jsx)(v.Z,{src:e.imgLink,alt:"pet",sx:{width:96,height:96},children:!e.imgLink&&e.name[0].toUpperCase()}),f===N.headOfFamily&&(0,i.jsx)(d.Z,{variant:"outlined",startIcon:(0,i.jsx)(I,{}),size:"small",onClick:function(){return function(e,n){if(w&&N&&window.confirm("Are you sure you want to remove ".concat(e.name," from the family?"))){var t=(0,x.Z)(N.pets);if(t.splice(n,1),e.imgLink){var i=(0,A.cF)(),a=(0,A.iH)(i,e.imgLink);(0,A.oq)(a)}c.updateFamily(w.familyId,{pets:t}).then(E)}}(e,n)},sx:{mt:2},children:"Remove"})]},e.name)}))}),f===N.headOfFamily&&(0,i.jsx)(d.Z,{variant:"contained",startIcon:(0,i.jsx)(F.Z,{}),onClick:function(){return D(!0)},children:"Add a pet"})]}),f===N.headOfFamily&&(0,i.jsxs)(p.Z,{mt:4,children:[(0,i.jsx)(j.Z,{}),(0,i.jsx)(s.Z,{variant:"h5",mt:2,children:"Weather Applet Information"}),(0,i.jsxs)(p.Z,{mb:2,children:[(0,i.jsx)(s.Z,{variant:"h6",children:"OpenWeatherMap API Key"}),(0,i.jsx)(k.Z,{textVariant:"body1",text:null!==(n=N.openweathermap_api_key)&&void 0!==n?n:"Obtain and input an OpenWeatherMap 'Current Weather' API key,\nand set your family's location below, if you would like to see\nyour local weather forecast on the homepage",fieldName:"OpenWeatherMap API Key",fieldType:"ApiToken",onSubmitValue:function(e){w&&e&&c.updateFamily(w.familyId,{openweathermap_api_key:e}).then(E)}})]}),(0,i.jsxs)(p.Z,{mb:6,children:[(0,i.jsx)(s.Z,{variant:"h6",children:"Location"}),N.location&&(0,i.jsx)(p.Z,{children:(0,i.jsxs)(p.Z,{children:[(0,i.jsx)(s.Z,{variant:"body1",children:"Latitude:"}),(0,i.jsx)(k.Z,{textVariant:"body1",text:N.location.lat,fieldName:"Latitude",fieldType:"DecimalNum",onSubmitValue:J}),(0,i.jsx)(s.Z,{variant:"body1",children:"Longitude:"}),(0,i.jsx)(k.Z,{textVariant:"body1",text:N.location.long,fieldName:"Longitude",fieldType:"DecimalNum",onSubmitValue:function(e){return J("",e)}})]})})]})]}),f===N.headOfFamily?(0,i.jsxs)(l.Z,{spacing:5,children:[(0,i.jsx)(d.Z,{variant:"contained",onClick:function(){if(N){var e={name:N.name,members:N.members,pets:N.pets,boardMarkdown:N.boardMarkdown,location:N.location,apiKeys:{openWeather:N.openweathermap_api_key,gmaps:N.gmaps_api_key}},n=JSON.stringify(e,null,2),t=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(t),a=document.createElement("a");a.href=i,a.download="FamilyData.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}},children:"Export family data"}),(0,i.jsx)(d.Z,{variant:"contained",color:"error",startIcon:(0,i.jsx)(I,{}),onClick:function(){return H(!0)},children:"Delete Family"})]}):(0,i.jsx)(d.Z,{variant:"contained",color:"error",startIcon:(0,i.jsx)(O,{}),onClick:function(){return K(!0)},children:"Leave Family"}),(0,i.jsxs)(y.Z,{open:U,onClose:function(){return H(!1)},fullWidth:!0,children:[(0,i.jsx)(Z.Z,{children:"Delete family?"}),(0,i.jsx)(g.Z,{children:(0,i.jsxs)(C.Z,{children:["Are you sure you want to delete the ",N.name," family?"]})}),(0,i.jsxs)(b.Z,{children:[(0,i.jsx)(d.Z,{variant:"text",onClick:function(){return H(!1)},children:"Cancel"}),(0,i.jsx)(d.Z,{variant:"contained",onClick:function(){w&&N&&(N.members&&N.members.forEach((function(e){t({familyId:""},e,!1)})),N.residences&&N.residences.forEach((function(e){c.deleteResidence(e)})),N.vehicles&&N.vehicles.forEach((function(e){c.deleteVehicle(e)})),c.deleteFamily(w.familyId).then((function(){t({familyId:""})})))},children:"Delete"})]})]}),(0,i.jsxs)(y.Z,{open:$,onClose:function(){return K(!1)},fullWidth:!0,children:[(0,i.jsx)(Z.Z,{children:"Leave family?"}),(0,i.jsx)(g.Z,{children:(0,i.jsxs)(C.Z,{children:["Are you sure you want to leave the ",N.name," family?"]})}),(0,i.jsxs)(b.Z,{children:[(0,i.jsx)(d.Z,{variant:"text",onClick:function(){return K(!1)},children:"Cancel"}),(0,i.jsx)(d.Z,{variant:"contained",onClick:function(){if(w&&N){var e=(0,x.Z)(N.members),n=e.findIndex((function(e){return e===f}));e.splice(n,1);var i={members:e,headOfFamily:N.headOfFamily};N.headOfFamily===f&&(i.headOfFamily=e[0]),c.updateFamily(w.familyId,i),t({familyId:""})}},children:"Leave"})]})]}),(0,i.jsx)(T,{isOpen:z,setIsOpen:D})]}):(0,i.jsx)(V.Z,{})},z=t(74141),D=t(4374),R=t(34137),U=function(e){var n=e.curImgLink,t=e.updateCurImgLink,r=e.imgPlaceholder,o=e.height,s=e.width,l=(0,a.useState)(!1),u=l[0],m=l[1],h=(0,a.useState)(!1),f=h[0],x=h[1],j=(0,a.useState)(null),C=j[0],k=j[1],w=(0,a.useState)(!1),I=w[0],S=w[1];return(0,i.jsxs)(p.Z,{children:[(0,i.jsxs)(z.Z,{onClick:function(){return x(!0)},sx:{position:"relative",borderRadius:"50%"},onMouseOver:function(){return m(!0)},onMouseOut:function(){return m(!1)},children:[u&&(0,i.jsx)(R.Z,{sx:{position:"absolute",top:"27%",left:"29%",zIndex:100,color:"#eaeaea",height:o/2,width:s/2}}),(0,i.jsx)(v.Z,{src:n,sx:{height:o,width:s},children:!n&&r})]}),(0,i.jsxs)(y.Z,{open:f,onClose:function(){return x(!1)},fullWidth:!0,children:[(0,i.jsx)(Z.Z,{children:"Update/Delete image"}),(0,i.jsxs)(g.Z,{children:[!I&&(0,i.jsx)(P.DropzoneArea,{acceptedFiles:["image/jpeg","image/png"],filesLimit:1,onChange:function(e){return k(e[0])},fileObjects:[]}),n&&(0,i.jsx)(c.Z,{control:(0,i.jsx)(D.Z,{checked:I,onChange:function(){return S(!I)}}),label:"Only delete existing photo"})]}),(0,i.jsxs)(b.Z,{children:[(0,i.jsx)(d.Z,{onClick:function(){return x(!1)},children:"Cancel"}),(0,i.jsx)(d.Z,{variant:"contained",onClick:function(){if(I||C){var e=(0,A.cF)();if(n){var i=(0,A.iH)(e,n);(0,A.oq)(i)}if(C){var a=(0,A.iH)(e,(0,_.Z)());(0,A.KV)(a,C).then((function(e){(0,A.Jt)(e.ref).then((function(e){t(e)}))}))}else t("")}},disabled:!C&&!I,children:"Save"})]})]})]})},H=t(8151),q=function(){var e=(0,a.useContext)(h.f),n=(0,a.useContext)(m.St),t=n.userId,x=n.userEmail,p=n.profile,v=n.getProfile,j=(0,a.useContext)(m.Il).setSnackbarData,y=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i&&e.updateProfile(i,n).then((function(){a&&v()}))};return(0,i.jsxs)(r.Z,{maxWidth:"md",children:[p?(0,i.jsxs)(o.Z,{sx:{mb:4,p:3},children:[(0,i.jsx)(s.Z,{variant:"h2",children:"My Profile"}),(0,i.jsxs)(l.Z,{alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(U,{curImgLink:p.imgLink,updateCurImgLink:function(e){y({imgLink:e})},imgPlaceholder:(0,i.jsx)(s.Z,{variant:"h1",children:p.firstName[0].toUpperCase()}),height:164,width:164}),(0,i.jsx)(k.Z,{textVariant:"h5",text:p.firstName,fieldName:"First Name",fieldType:"EntityName",onSubmitValue:function(e){e&&y({firstName:e})}}),(0,i.jsx)(c.Z,{control:(0,i.jsx)(u.Z,{checked:p.theme&&"light"===p.theme,onChange:function(e,n){y({theme:n?"light":"dark"})}}),label:p.theme&&"light"===p.theme?"Light mode":"Dark mode",sx:{mt:2}}),(0,i.jsx)(l.Z,{direction:"row",justifyContent:"space-evenly",sx:{mt:3},children:(0,i.jsx)(d.Z,{variant:"outlined",onClick:function(){x?(0,H.LS)(e.auth,x).then((function(){j({msg:"Password reset email sent to ".concat(x),severity:"info"})})).catch((function(e){j({msg:"Error sending password reset email: ".concat(e.message),severity:"error"})})):alert("There is no email tied to this account!")},children:"Reset password (email)"})})]})]}):(0,i.jsx)(f.Z,{}),(0,i.jsx)(W,{mergeProfileProperty:y})]})}},66963:function(e,n,t){"use strict";var i=t(28598),a=t(82684),r=t(97648),o=t(14048);n.Z=function(e){var n=e.isValUnique,t=e.onSubmitValue,s=e.fieldType,l=e.fieldName,c=e.text,u=e.textVariant,d=e.isMonetaryValue,m=(0,a.useState)(!1),h=m[0],f=m[1],x=(0,a.useState)(!1),p=x[0],v=x[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.Z,{variant:null!==u&&void 0!==u?u:"h6",onClick:function(){f(!0),v(!1)},onMouseOver:function(){return v(!0)},onMouseOut:function(){return v(!1)},sx:{borderBottom:p?"2px solid green":""},children:[d&&"$",c]}),(0,i.jsx)(o.Z,{initialValue:d?c.replaceAll(",",""):c,fieldName:l,fieldType:s,isOpen:h,onClosed:function(){return f(!1)},isMonetaryValue:d,isValUnique:n,onSubmitValue:t})]})}},14048:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var i=t(28598),a=t(82684),r=t(40076),o=t(18567),s=t(35127),l=t(82561),c=t(51537),u=t(22546),d=t(67929),m=t(74141),h=t(84446),f=t(93720),x={Email:{name:"email",regex:/^[^@\s]+@[^@\s]+\.[^@\s]+$/,valErrMsg:"Please provide a valid email"},Password:{name:"password",regex:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,valErrMsg:"Password must be a minimum of eight characters, and contain at least one letter and number"},EntityName:{name:"entityName",regex:/^[\s\S]{1,50}$/,valErrMsg:"Entity names have a max length of 50 characters"},ItemName:{name:"itemName",regex:/^[\s\S]{1,100}$/,valErrMsg:"Item names have a max length of 100 characters"},ApiToken:{name:"apiToken",regex:/^[A-Za-z0-9_-]*$/,valErrMsg:"API tokens can only contain letters, numbers, hyphens, and underscores"},DecimalNum:{name:"decimalNum",regex:/^[+-]?([0-9]+\.?[0-9]*|\.[0-9]+)$/,valErrMsg:"Numerical values can only contain numbers, decimals, and signs"}},p="Field cannot be empty",v="Item names must be unique",j=t(18786),y=t(5295),Z=t(22912),g=function(e){var n=e.initialValue,t=e.isMonetaryValue,g=e.fieldName,C=e.fieldType,b=e.onSubmitValue,k=e.isOpen,w=e.onClosed,I=e.isValUnique,S=e.titleVerb,F=void 0===S?"Edit":S,O=(0,a.useState)(void 0),N=O[0],L=O[1],V=(0,a.useState)(null!==n&&void 0!==n?n:""),E=V[0],M=V[1];if("ItemName"===C&&!I)return console.error("Field is of type ItemName, but no function was provided to validate uniqueness."),null;var P=function(e){M(null!==e&&void 0!==e?e:""),e?!I||I(e)?e.match(x[C].regex)?L(void 0):L(x[C].valErrMsg):L(v):L(p)};return(0,a.useEffect)((function(){M(null!==n&&void 0!==n?n:"")}),[n]),(0,i.jsxs)(r.Z,{open:k,onClose:w,fullWidth:!0,style:{marginBottom:"35vh"},children:[(0,i.jsx)(o.Z,{children:"".concat(F," ").concat(g)}),(0,i.jsx)(s.Z,{children:(0,i.jsxs)(l.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,i.jsx)(c.Z,{variant:"standard",label:g,value:E,onChange:function(e){return P(e.target.value)},error:!!N,helperText:N,InputProps:{startAdornment:t?(0,i.jsx)(u.Z,{position:"start",children:"$"}):void 0},required:!0,autoFocus:!0}),t&&(0,i.jsx)(d.Z,{title:"Calculate value",children:(0,i.jsx)(m.Z,{onClick:function(){E&&P("".concat((0,y.NMM)((0,Z.ku)(E),2)))},sx:{height:"50%"},children:(0,i.jsx)(j.Z,{})})})]})}),(0,i.jsxs)(h.Z,{children:[(0,i.jsx)(f.Z,{onClick:w,children:"Cancel"}),(0,i.jsx)(f.Z,{variant:"contained",disabled:!!N,onClick:function(){E!==n&&b(E),w()},children:"Save"})]})]})}},84166:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var i=t(28598),a=t(70136),r=t(82015),o=t(97648),s=t(80464),l=t(82561),c=t(93720),u=t(82684),d=t(40076),m=t(18567),h=t(35127),f=t(51537),x=t(84446),p=t(55402),v=t(73073),j=t(41826),y=function(e){var n=(0,u.useContext)(v.Il).setSnackbarData,t=(0,u.useContext)(j.f),a=(0,u.useContext)(v.St),r=a.userId,o=a.getProfile,s=a.getFamily,y=e.isOpen,Z=e.setIsOpen,g=(0,u.useState)(void 0),C=g[0],b=g[1];return(0,i.jsxs)(d.Z,{open:y,onClose:function(){return Z(!1)},fullWidth:!0,children:[(0,i.jsx)(m.Z,{children:"Create Family"}),(0,i.jsx)(h.Z,{children:(0,i.jsx)(l.Z,{children:(0,i.jsx)(f.Z,{autoFocus:!0,variant:"standard",label:"Family (Last) Name",value:C,onChange:function(e){return b(e.target.value)},required:!0})})}),(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(c.Z,{onClick:function(){return Z(!1)},children:"Cancel"}),(0,i.jsx)(c.Z,{variant:"contained",onClick:function(){if(r&&C){var e=(0,p.Z)(),i={name:C,headOfFamily:r,members:[r],boardMarkdown:"This is the family board!",pets:[],vehicles:[],residences:[],groceryList:[]};t.createFamily(e,i).then((function(){s(),n({msg:"Successfully created family!",severity:"success"})})),t.updateProfile(r,{familyId:e}).then((function(){o()})),Z(!1)}},children:"Create"})]})]})},Z=function(){var e=(0,u.useState)(!1),n=e[0],t=e[1];return(0,i.jsx)(a.Z,{maxWidth:"sm",mx:"auto",mt:3,children:(0,i.jsxs)(r.Z,{sx:{p:2},children:[(0,i.jsx)(o.Z,{variant:"h5",mb:3,children:"We couldn't find a family for this profile!"}),(0,i.jsx)(o.Z,{variant:"h6",textAlign:"center",children:"Ask your head-of-household for their family invite link"}),(0,i.jsx)(s.Z,{sx:{width:250,mx:"auto",mt:2,mb:2},children:"OR"}),(0,i.jsx)(l.Z,{direction:"row",justifyContent:"center",children:(0,i.jsx)(c.Z,{variant:"contained",onClick:function(){return t(!0)},children:"Create a family"})}),(0,i.jsx)(y,{isOpen:n,setIsOpen:t})]})})}},55512:function(e,n,t){"use strict";t.d(n,{Z:function(){return k}});var i=t(28598),a=t(70136),r=t(82015),o=t(97648),s=t(82561),l=t(93720),c=t(82684),u=t(81904),d=t(37559),m=t(40076),h=t(18567),f=t(35127),x=t(51537),p=t(10673),v=t(84446),j=t(54219),y=t(73073),Z=t(41826),g=t(63422),C=t(55402),b=function(e){var n=(0,c.useContext)(y.Il).setSnackbarData,t=(0,c.useContext)(Z.f),a=(0,c.useContext)(y.St),r=a.userId,o=a.getProfile,s=e.isOpen,b=e.setIsOpen,k=(0,c.useState)(void 0),w=k[0],I=k[1],S=(0,c.useState)(void 0),F=S[0],O=S[1],N=(0,c.useState)(null),L=N[0],V=N[1];return(0,i.jsxs)(m.Z,{open:s,onClose:function(){return b(!1)},fullWidth:!0,children:[(0,i.jsx)(h.Z,{children:"Create Profile"}),(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(x.Z,{autoFocus:!0,variant:"standard",label:"First Name",value:w,onChange:function(e){return I(e.target.value)},required:!0,error:!!F,helperText:F}),(0,i.jsx)(p.Z,{sx:{mt:3},children:"Upload Photo"}),(0,i.jsx)(j.DropzoneArea,{acceptedFiles:["image/jpeg","image/png"],filesLimit:1,onChange:function(e){return V(e[0])},fileObjects:[]})]}),(0,i.jsxs)(v.Z,{children:[(0,i.jsx)(l.Z,{onClick:function(){return b(!1)},children:"Cancel"}),(0,i.jsx)(l.Z,{variant:"contained",onClick:function(){if((w?w.includes(" ")?(O("The name cannot contain spaces!"),0):(O(void 0),1):(O("You must input a name!"),0))&&r&&w){var e={firstName:w,familyId:""};if(L){var i=(0,g.cF)(),a=(0,g.iH)(i,(0,C.Z)());(0,g.KV)(a,L).then((function(n){(0,g.Jt)(n.ref).then((function(n){t.createProfile(r,(0,d.Z)((0,u.Z)({},e),{imgLink:n})).then((function(){o(),b(!1)}))}))}))}else t.createProfile(r,e).then((function(){o(),b(!1),n({msg:"Successfully created profile!",severity:"success"})}))}},children:"Create"})]})]})},k=function(){var e=(0,c.useState)(!1),n=e[0],t=e[1];return(0,i.jsx)(a.Z,{maxWidth:"sm",mx:"auto",mt:2,children:(0,i.jsxs)(r.Z,{sx:{p:2},children:[(0,i.jsx)(o.Z,{variant:"h5",children:"Welcome to Our Home!"}),(0,i.jsx)(o.Z,{variant:"h6",mb:2,children:"It looks like you don't have a profile yet, would you like to create one?"}),(0,i.jsx)(s.Z,{direction:"row",justifyContent:"center",mb:2,children:(0,i.jsx)(l.Z,{variant:"contained",onClick:function(){return t(!0)},children:"Create a profile"})}),(0,i.jsx)(o.Z,{variant:"caption",children:"Creating a profile allows you to create/join a budget and opens the door to family/household management!"}),(0,i.jsx)(b,{isOpen:n,setIsOpen:t})]})})}},75042:function(){}},function(e){e.O(0,[876,28,737,919,774,888,179],(function(){return n=56896,e(e.s=n);var n}));var n=e.O();_N_E=n}]);